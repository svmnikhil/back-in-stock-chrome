chrome.runtime.onInstalled.addListener((({reason:t})=>{"install"===t&&chrome.tabs.create({url:"https://github.com/svmnikhil"})})),chrome.tabs.onActivated.addListener((function(t){chrome.tabs.get(t.tabId,(function(t){t.url?.startsWith("chrome://")||chrome.scripting.executeScript({files:["scripts/content.ts"],target:{tabId:t.id}})}))})),chrome.tabs.onUpdated.addListener((function(t,e,o){if(o.url?.startsWith("chrome://"))return null;o.active&&"complete"===e.status&&chrome.scripting.executeScript({files:["scripts/content.ts"],target:{tabId:o.id}})})),chrome.runtime.onMessage.addListener(((t,e,o)=>{if(e.tab&&e.tab.id&&null!=t){const o={tabId:e.tab.id,...t};chrome.storage.local.set({dataObj:o},(()=>{console.log("Data saved to chrome.storage.local",o),chrome.action.setIcon({path:{16:"logos/16px-logo.png",48:"logos/48px-logo.png",128:"logos/128px-logo.png"},tabId:e.tab.id})})),a=o,e.tab.id,console.log("performing action with: ",a)}var a;return o({reply:"Got your message!"}),!0})),chrome.tabs.onRemoved.addListener(((t,e)=>{chrome.storage.local.get("dataObj",(e=>{e.dataObj&&e.dataObj.tabId===t&&chrome.storage.local.remove("dataObj",(()=>{console.log("dataObj removed from storage because its tab was closed.")}))}))}));